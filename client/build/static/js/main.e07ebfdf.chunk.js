(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),l=a.n(r),o=a(8),c=a(9),s=a(11),u=a(10),d=a(12),m=a(19),h=a.n(m),p=a(18),v=(a(93),a(22)),b=(a(44),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"score-container"},i.a.createElement("h1",{className:"score-number"},this.props.score)))}}]),t}(i.a.Component)),g=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{class:"carousel-item ".concat(this.props.active),style:{backgroundImage:"url(".concat(this.props.image,")")}},i.a.createElement(p.b,{to:{pathname:"/review/".concat(this.props.id),state:{id:this.props.id,artist:this.props.artist,coverPrice:this.props.coverPrice,publisher:this.props.publisher,releaseDate:this.props.releaseDate,score:this.props.score,title:this.props.title,writer:this.props.writer,image:this.props.image,body:this.props.body,name:this.props.name}}},i.a.createElement("div",{class:""},i.a.createElement("div",{class:"bgBlack"},i.a.createElement("div",{class:"d-flex justify-content-center align-items-center slideNew"},i.a.createElement("img",{src:this.props.image,class:"d-block ",alt:"..."}),i.a.createElement("div",{class:"d-flex flex-column justify-content-center ml-5",id:"comicDetails"},i.a.createElement("div",null,"Writer: ",this.props.writer),i.a.createElement("div",null,"Artist: ",this.props.artist),i.a.createElement("div",null,"Publisher: ",this.props.publisher),i.a.createElement("div",null,"Release Date: ",this.props.releaseDate),i.a.createElement("div",null,"Cover Price: $",this.props.coverPrice),i.a.createElement(b,{score:this.props.score})))))))}}]),t}(i.a.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getReviewsFromDB()},a.getReviewsFromDB=function(){var e;h.a.get("/reviewsdb/getReviews").then((function(t){e=t.data.data,a.setState({dataDB:e})})).catch((function(e){console.log(e,"get reviews from db unsuccessful")}))},a.state={dataDB:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel","data-interval":"4000"},i.a.createElement("div",{className:"carousel-inner"},this.state.dataDB.map((function(e,t){return 0==t?i.a.createElement(g,{id:e.id,writer:e.writer,title:e.title,artist:e.artist,publisher:e.publisher,releaseDate:e.releaseDate,coverPrice:e.coverPrice,image:e.imageURL,body:e.body,score:e.score,name:e.name,active:"active"}):i.a.createElement(g,{id:e.id,writer:e.writer,title:e.title,artist:e.artist,publisher:e.publisher,releaseDate:e.releaseDate,coverPrice:e.coverPrice,image:e.imageURL,body:e.body,score:e.score,name:e.name,active:""})})),i.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},i.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),i.a.createElement("span",{className:"sr-only"},"Previous")),i.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},i.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),i.a.createElement("span",{className:"sr-only"},"Next")))))}}]),t}(n.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("ul",null,this.props.article.map((function(e){return i.a.createElement("li",{key:e.id},e.title)}))))}}]),t}(n.Component),w=(Object(v.b)((function(e){return{article:e.article}}))(f),a(36));function O(e){return{type:"LOGIN",payload:e}}var y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.title;a.props.addArticle({title:t}),a.setState({title:""})},a.handleRemove=function(){a.props.removeArticle()},a.state={title:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.title;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"title"},"Title"),i.a.createElement("input",{type:"text",id:"title",value:e,onChange:this.handleChange})),i.a.createElement("button",{type:"submit"},"SAVE")),i.a.createElement("button",{onClick:this.handleRemove},"REMOVE"))}}]),t}(n.Component),j=(Object(v.b)(null,(function(e){return{addArticle:function(t){return e({type:"ADD_ARTICLE",payload:t})},removeArticle:function(){return e({type:"REMOVE_ARTICLE"})}}}))(y),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"main"},i.a.createElement(E,null))}}]),t}(n.Component)),C=(n.Component,a(99),a(31)),D=a(130),N=a(135),A=a(136),V=a(45),R=a.n(V),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).login=function(t){t.preventDefault(),console.log(e.state.email),console.log(e.state.password);var a={email:e.state.email,password:e.state.password};h.a.post("/auth/login",a).then((function(e){console.log(e.data),window.location="/"}))},e.onChangeEmail=function(t){e.setState({email:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.handleChange=function(t){return function(a){console.log(e.props),e.setState(Object(w.a)({},"".concat(t),a.target.value))}},e.state={email:"",password:""},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"editValue",value:function(e){return"edit"==this.state.editOrAdd?this.props.location.state[e]:""}},{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement(D.a,{className:"tile"},i.a.createElement("div",{className:"flexColumnCenter"},i.a.createElement("h1",{className:"loginTitle"},"Kabling Comics"),i.a.createElement("form",{onSubmit:this.login},i.a.createElement(N.a,{id:"outlined-writer",label:"Email",margin:"normal",variant:"outlined",name:"email",defaultValue:this.editValue("email"),onChange:this.handleChange("email")}),i.a.createElement(N.a,{id:"outlined-writer",label:"Password",margin:"normal",variant:"outlined",name:"password",type:"password",defaultValue:this.editValue("password"),onChange:this.handleChange("password")}),i.a.createElement(A.a,{type:"submit",onClick:this.props.getSession},"Login"),i.a.createElement("div",{id:"register"},i.a.createElement(p.b,{to:"/register"},"Register"))))))}}]),t}(n.Component),P=Object(v.b)(null,(function(e){return{login:function(){return e(O())},logout:function(){return e({type:"LOGOUT"})}}}))(k),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).register1=function(){h.a.get("/auth/addUser").then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"register"},i.a.createElement(D.a,{className:"tile"},i.a.createElement("div",{className:"flexColumnCenter"},i.a.createElement("h1",{className:"loginTitle"},"Register"),i.a.createElement("form",{action:"/auth/newUser",method:"post"},i.a.createElement(N.a,{id:"outlined-writer",label:"Email",margin:"normal",variant:"outlined",name:"email"}),i.a.createElement(N.a,{id:"outlined-writer",label:"Password",margin:"normal",variant:"outlined",name:"password",type:"password"}),i.a.createElement(A.a,{type:"submit"},"Register")))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).display=function(){console.log(a.props.location.state.id)},a.state={id:"",artist:"",coverPrice:"",publisher:"",releaseDate:"",score:"",title:"",writer:"",image:"",body:"",name:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.id,a=e.artist,n=e.coverPrice,i=e.publisher,r=e.releaseDate,l=e.score,o=e.title,c=e.writer,s=e.image,u=e.body,d=e.admin;console.log(t,u),this.setState({id:t,artist:a,coverPrice:n,publisher:i,releaseDate:r,score:l,title:o,writer:c,image:s,body:u,admin:d})}},{key:"render",value:function(){return i.a.createElement("div",{className:"review mt-5"},i.a.createElement("div",{className:"row"},i.a.createElement("img",{src:this.state.image,id:"reviewImage"}),i.a.createElement("div",{className:"ml-5",id:"reviewDetails"},this.props.auth.admin&&i.a.createElement(p.b,{id:"reviewEditButton",to:{pathname:"/review/".concat(this.state.id,"/edit"),state:{id:this.state.id,artist:this.state.artist,coverPrice:this.state.coverPrice,publisher:this.state.publisher,releaseDate:this.state.releaseDate,score:this.state.score,title:this.state.title,writer:this.state.writer,image:this.state.image,body:this.state.body,editOrAdd:"edit"}}},i.a.createElement(A.a,{variant:"contained",color:"primary",className:"buttonPrimary"},"Edit")),i.a.createElement("h3",null,"Title: ",i.a.createElement("span",{className:"reviewDescValue"},this.props.location.state.title)),i.a.createElement("h3",null,"Writer: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.writer)," "),i.a.createElement("h3",null,"Artist: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.artist)," "),i.a.createElement("h3",null,"Publisher: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.publisher)," "),i.a.createElement("h3",null,"Cover Price: ",i.a.createElement("span",{className:"reviewDescValue"},"$",this.state.coverPrice)," "))),i.a.createElement("p",{className:"reviewDescription",style:{}},this.state.body))}}]),t}(i.a.Component),x=Object(v.b)((function(e){return{auth:e.auth}}))(S),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).editAction=function(){console.log(document.getElementById("addEditForm")),console.log("edit"),document.getElementById("addEditForm").action="/reviewsdb/editReviewToDB"},a.addAction=function(){console.log("add"),document.getElementById("addEditForm").action="/reviewsdb/addReviewToDB"},a.handleChange=function(e){return function(t){a.setState(Object(w.a)({},"".concat(e),t.target.value))}},a.handleSubmit=function(){"edit"==a.state.editOrAdd?document.getElementById("addEditForm").action="/reviewsdb/editReviewToDB":document.getElementById("addEditForm").action="/reviewsdb/addReviewToDB"},a.handleDelete=function(){h.a.delete("/reviewsdb/deleteReview",{data:{id:a.props.location.state.id}}).then((function(e){console.log("Deleted Review Success"),window.location="/"})).catch((function(e){console.log(e),window.location="/"}))},a.state={id:"",artist:"",coverPrice:"",publisher:"",releaseDate:"",score:"",title:"",writer:"",image:"",body:"",editOrAdd:a.props.location.state.editOrAdd},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"editValue",value:function(e){return"edit"==this.state.editOrAdd?this.props.location.state[e]:""}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{id:"addReview"},"add"==this.state.editOrAdd&&i.a.createElement("h1",null,"Add New Review"),"edit"==this.state.editOrAdd&&i.a.createElement("h1",null,"Edit Review"),i.a.createElement("form",{method:"post",id:"addEditForm",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"displayNone"},i.a.createElement(N.a,{id:"outlined-writer",label:"ID",margin:"normal",variant:"outlined",name:"id",defaultValue:this.editValue("id"),onChange:this.handleChange("id")})),i.a.createElement(N.a,{id:"outlined-writer",label:"Writer",margin:"normal",variant:"outlined",name:"writer",defaultValue:this.editValue("writer"),onChange:this.handleChange("writer")}),i.a.createElement(N.a,{id:"outlined-title",label:"Title",margin:"normal",variant:"outlined",name:"title",defaultValue:this.editValue("title"),onChange:this.handleChange("title")}),i.a.createElement(N.a,{id:"outlined-artist",label:"Artist",margin:"normal",variant:"outlined",name:"artist",defaultValue:this.editValue("artist"),onChange:this.handleChange("artist")}),i.a.createElement(N.a,{id:"outlined-publisher",label:"Publisher",margin:"normal",variant:"outlined",name:"publisher",defaultValue:this.editValue("publisher"),onChange:this.handleChange("publisher")}),i.a.createElement(N.a,{id:"outlined-release-date",label:"Release Date",margin:"normal",variant:"outlined",name:"releaseDate",defaultValue:this.editValue("releaseDate"),onChange:this.handleChange("releaseDate")}),i.a.createElement(N.a,{id:"outlined-cover-price",label:"Cover Price",margin:"normal",variant:"outlined",name:"coverPrice",defaultValue:this.editValue("coverPrice"),onChange:this.handleChange("coverPrice")}),i.a.createElement(N.a,{id:"outlined-review",label:"Review",margin:"normal",variant:"outlined",multiline:!0,rows:"12",name:"review",defaultValue:this.editValue("body"),onChange:this.handleChange("body")}),i.a.createElement(N.a,{id:"outlined-score",label:"Score",margin:"normal",variant:"outlined",name:"score",defaultValue:this.editValue("score"),onChange:this.handleChange("score")}),i.a.createElement(N.a,{id:"outlined-image",label:"Image",margin:"normal",variant:"outlined",name:"image",defaultValue:this.editValue("image"),onChange:this.handleChange("image")}),"add"==this.state.editOrAdd&&i.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit",className:"buttonPrimary"},"Add"),"edit"==this.state.editOrAdd&&i.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit",className:"buttonPrimary"},"Edit"),"edit"==this.state.editOrAdd&&i.a.createElement(A.a,{variant:"contained",color:"secondary",className:"buttonSecondary",onClick:this.handleDelete},"Delete")))}}]),t}(n.Component),T=a(132),I=a(133),L=a(134),W=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getAuth=function(){h.a.get("/auth/sessionAuth").then((function(t){t.data&&(console.log(t.data),e.props.login(t.data)),console.log(e.props.auth)})).catch((function(e){}))},e.logout=function(){h.a.get("/auth/logout").then((function(t){console.log(t),e.props.logout()})).catch((function(e){console.log(e)})),window.location="/"},e.state={authUser:null},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAuth()}},{key:"render",value:function(){return i.a.createElement("div",{className:"appBar flex-grow"},i.a.createElement(T.a,{position:"static"},i.a.createElement(I.a,null,i.a.createElement("img",{src:R.a,className:"MuiToolbar-regular",style:{height:"64px"}}),i.a.createElement(p.b,{to:"/",className:"removeUnderline colorWhite flex-grow"},i.a.createElement(L.a,{variant:"h6"},"Kabling Comics")),this.props.auth.admin&&i.a.createElement(p.b,{to:{pathname:"/addReview",state:{editOrAdd:"add"}},className:"removeUnderline colorWhite"},i.a.createElement(A.a,{color:"inherit",className:"removeUnderline colorWhite"},"Add Review")),!this.props.auth.auth&&i.a.createElement(p.b,{to:"/login",className:"removeUnderline colorWhite"},i.a.createElement(A.a,{color:"inherit"},"Login")),this.props.auth.auth&&i.a.createElement("a",{onClick:this.logout,className:"removeUnderline colorWhite"},i.a.createElement(A.a,{color:"inherit"},"Logout")))))}}]),t}(n.Component),F=Object(v.b)((function(e){return{auth:e.auth}}),(function(e){return{login:function(t){return e(O(t))},logout:function(){return e({type:"LOGOUT"})}}}))(W),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getSession=function(){h.a.get("/auth/session").then((function(e){a.setState({authUser:e.data}),console.log(e.data),a.getCurrentUser()})).catch((function(e){console.log(e)}))},a.getCurrentUser=function(){h.a.post("/auth/currentUser",{authUser:a.state.authUser}).then((function(e){a.setState({currentUser:e.data,admin:e.data.admin})}))},a.state={authUser:null,admin:!1,currentUser:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement("div",{className:"app-container"},i.a.createElement(F,{authUser:this.state.authUser,admin:this.state.admin}),i.a.createElement("div",{className:"main"},i.a.createElement(C.a,{path:"/",exact:!0,render:function(t){return i.a.createElement(j,Object.assign({},t,{admin:e.state.admin}))}}),i.a.createElement(C.a,{path:"/login",render:function(e){return i.a.createElement(P,e)}}),i.a.createElement(C.a,{path:"/register",component:U}),i.a.createElement(C.a,{path:"/review/:reviewNumber",exact:!0,component:x}),i.a.createElement(C.a,{path:"/addReview",component:B}),i.a.createElement(C.a,{path:"/review/:reviewNumber/edit",exact:!0,component:B}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(35);var _=Object(G.b)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ARTICLE":return e.concat(t.payload);case"REMOVE_ARTICLE":return e.slice(0,e.length-1);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,admin:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return console.log("login action"),Object.assign({},e,{auth:!0},t.payload);case"LOGOUT":return{auth:!1};default:return e}}}),$=Object(G.c)(_);l.a.render(i.a.createElement(v.a,{store:$},i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/Logo3.f5d2c848.gif"},71:function(e,t,a){e.exports=a(100)},93:function(e,t,a){},99:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.e07ebfdf.chunk.js.map
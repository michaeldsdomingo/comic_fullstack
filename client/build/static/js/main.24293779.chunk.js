(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){},57:function(e,t,a){e.exports=a(86)},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),l=a.n(r),o=a(10),s=a(7),c=a(12),d=a(13),m=a(14),u=a(16),h=a.n(u),p=a(20),v=(a(79),a(38),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"score-container"},i.a.createElement("h1",{className:"score-number"},this.props.score)))}}]),t}(i.a.Component)),g=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{class:"carousel-item ".concat(this.props.active),style:{backgroundImage:"url(".concat(this.props.image,")")}},i.a.createElement(p.b,{to:{pathname:"/review/".concat(this.props.id),state:{id:this.props.id,artist:this.props.artist,coverPrice:this.props.coverPrice,publisher:this.props.publisher,releaseDate:this.props.releaseDate,score:this.props.score,title:this.props.title,writer:this.props.writer,image:this.props.image,body:this.props.body,name:this.props.name,admin:this.props.admin}}},i.a.createElement("div",{class:""},i.a.createElement("div",{class:"bgBlack"},i.a.createElement("div",{class:"d-flex justify-content-center align-items-center slideNew"},i.a.createElement("img",{src:this.props.image,class:"d-block ",alt:"..."}),i.a.createElement("div",{class:"d-flex flex-column justify-content-center ml-5"},i.a.createElement("div",null,"Writer: ",this.props.writer),i.a.createElement("div",null,"Artist: ",this.props.artist),i.a.createElement("div",null,"Publisher: ",this.props.publisher),i.a.createElement("div",null,"Release Date: ",this.props.releaseDate),i.a.createElement("div",null,"Cover Price: $",this.props.coverPrice),i.a.createElement(v,{score:this.props.score})))))))}}]),t}(i.a.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.getReviewsFromDB()},a.getReviewsFromDB=function(){var e;h.a.get("/reviewsdb/getReviews").then(function(t){e=t.data.data,a.setState({dataDB:e})}).catch(function(e){console.log(e,"get reviews from db unsuccessful")})},a.state={dataDB:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel","data-interval":"4000"},i.a.createElement("div",{className:"carousel-inner"},this.state.dataDB.map(function(t,a){return 0==a?i.a.createElement(g,{id:t.id,writer:t.writer,title:t.title,artist:t.artist,publisher:t.publisher,releaseDate:t.releaseDate,coverPrice:t.coverPrice,image:t.imageURL,body:t.body,score:t.score,name:t.name,active:"active",admin:e.props.admin}):i.a.createElement(g,{id:t.id,writer:t.writer,title:t.title,artist:t.artist,publisher:t.publisher,releaseDate:t.releaseDate,coverPrice:t.coverPrice,image:t.imageURL,body:t.body,score:t.score,name:t.name,active:"",admin:e.props.admin})}),i.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},i.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),i.a.createElement("span",{className:"sr-only"},"Previous")),i.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},i.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),i.a.createElement("span",{className:"sr-only"},"Next")))))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"main"},i.a.createElement(b,{admin:this.props.admin}))}}]),t}(n.Component),f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).logout=function(){h.a.get("/auth/logout").then(function(e){console.log(e)}).catch(function(e){console.log(e)}),window.location="/"},e.state={authUser:null,state:"hello"},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"navbarHeader"},i.a.createElement("div",{id:"navbar"},i.a.createElement("ul",null,i.a.createElement("li",{id:"title"},i.a.createElement(p.b,{to:"/",className:"removeUnderline colorWhite"},"Comic Book Blogspot")),i.a.createElement("div",{className:"align-right"},this.props.admin&&i.a.createElement("li",null,i.a.createElement(p.b,{to:{pathname:"/addReview",state:{editOrAdd:"add"}},className:"removeUnderline colorWhite"},"Add Review")),!this.props.authUser&&i.a.createElement("li",null,i.a.createElement(p.b,{to:"/login",className:"removeUnderline colorWhite"},"Login")),this.props.authUser&&i.a.createElement("li",null,i.a.createElement("a",{onClick:this.logout,className:"removeUnderline colorWhite"},"Logout"))))))}}]),t}(n.Component),w=(a(85),a(30)),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).login=function(t){t.preventDefault(),console.log(e.state.email),console.log(e.state.password);var a={email:e.state.email,password:e.state.password};h.a.post("/auth/login",a).then(function(e){console.log(e.data),window.location="/"})},e.onChangeEmail=function(t){e.setState({email:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.state={email:"",password:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"tile"},i.a.createElement("div",{className:"flexColumnCenter"},i.a.createElement("h1",{className:"loginTitle"},"Comic Bloggers"),i.a.createElement("form",{onSubmit:this.login},i.a.createElement("input",{placeholder:"Email",name:"email",onChange:this.onChangeEmail}),i.a.createElement("input",{placeholder:"Password",name:"password",onChange:this.onChangePassword}),i.a.createElement("input",{type:"submit",onClick:this.props.getSession}),i.a.createElement("div",{id:"register"},i.a.createElement(p.b,{to:"/register"},"Register"))))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).register1=function(){h.a.get("/auth/addUser").then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"register login"},i.a.createElement("div",{className:"tile"},i.a.createElement("div",{className:"flexColumnCenter"},i.a.createElement("h1",{className:"loginTitle"},"Comic Bloggers"),i.a.createElement("form",{action:"/auth/newUser",method:"post"},i.a.createElement("input",{placeholder:"Email",name:"email"}),i.a.createElement("input",{placeholder:"Password",name:"password"}),i.a.createElement("input",{type:"submit"})))),i.a.createElement("button",{onClick:this.register1},"Register"))}}]),t}(n.Component),C=a(117),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).display=function(){console.log(a.props.location.state.id)},a.state={id:"",artist:"",coverPrice:"",publisher:"",releaseDate:"",score:"",title:"",writer:"",image:"",body:"",name:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state,t=e.id,a=e.artist,n=e.coverPrice,i=e.publisher,r=e.releaseDate,l=e.score,o=e.title,s=e.writer,c=e.image,d=e.body,m=e.admin;console.log(t,d),this.setState({id:t,artist:a,coverPrice:n,publisher:i,releaseDate:r,score:l,title:o,writer:s,image:c,body:d,admin:m})}},{key:"render",value:function(){return i.a.createElement("div",{className:"review mt-5"},i.a.createElement("div",{className:"row"},i.a.createElement("img",{src:this.state.image}),i.a.createElement("div",{className:"ml-5",id:"reviewDescription"},this.state.admin&&i.a.createElement(p.b,{id:"reviewEditButton",to:{pathname:"/review/".concat(this.state.id,"/edit"),state:{id:this.state.id,artist:this.state.artist,coverPrice:this.state.coverPrice,publisher:this.state.publisher,releaseDate:this.state.releaseDate,score:this.state.score,title:this.state.title,writer:this.state.writer,image:this.state.image,body:this.state.body,editOrAdd:"edit"}}},i.a.createElement(C.a,{variant:"contained",color:"primary"},"Edit")),i.a.createElement("h3",null,"Title: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.title)),i.a.createElement("h3",null,"Writer: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.writer)," "),i.a.createElement("h3",null,"Artist: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.artist)," "),i.a.createElement("h3",null,"Publisher: ",i.a.createElement("span",{className:"reviewDescValue"},this.state.publisher)," "),i.a.createElement("h3",null,"Cover Price: ",i.a.createElement("span",{className:"reviewDescValue"},"$",this.state.coverPrice)," "))),i.a.createElement("p",{className:"reviewDescription",style:{}},this.state.body))}}]),t}(i.a.Component),D=a(25),N=a(116),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).editAction=function(){console.log(document.getElementById("addEditForm")),console.log("edit"),document.getElementById("addEditForm").action="/reviewsdb/editReviewToDB"},a.addAction=function(){console.log("add"),document.getElementById("addEditForm").action="/reviewsdb/addReviewToDB"},a.handleChange=function(e){return function(t){a.setState(Object(D.a)({},"".concat(e),t.target.value))}},a.handleSubmit=function(){"edit"==a.state.editOrAdd?document.getElementById("addEditForm").action="/reviewsdb/editReviewToDB":document.getElementById("addEditForm").action="/reviewsdb/addReviewToDB"},a.handleDelete=function(){h.a.delete("/reviewsdb/deleteReview",{data:{id:a.props.location.state.id}}).then(function(e){console.log("Deleted Review Success"),window.location="/"}).catch(function(e){console.log(e),window.location="/"})},a.state={id:"",artist:"",coverPrice:"",publisher:"",releaseDate:"",score:"",title:"",writer:"",image:"",body:"",editOrAdd:a.props.location.state.editOrAdd},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editValue",value:function(e){return"edit"==this.state.editOrAdd?this.props.location.state[e]:""}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{id:"addReview"},i.a.createElement("h1",null,"Add New Review"),i.a.createElement("form",{method:"post",id:"addEditForm",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"displayNone"},i.a.createElement(N.a,{id:"outlined-writer",label:"ID",margin:"normal",variant:"outlined",name:"id",defaultValue:this.editValue("id"),onChange:this.handleChange("id")})),i.a.createElement(N.a,{id:"outlined-writer",label:"Writer",margin:"normal",variant:"outlined",name:"writer",defaultValue:this.editValue("writer"),onChange:this.handleChange("writer")}),i.a.createElement(N.a,{id:"outlined-title",label:"Title",margin:"normal",variant:"outlined",name:"title",defaultValue:this.editValue("title"),onChange:this.handleChange("title")}),i.a.createElement(N.a,{id:"outlined-artist",label:"Artist",margin:"normal",variant:"outlined",name:"artist",defaultValue:this.editValue("artist"),onChange:this.handleChange("artist")}),i.a.createElement(N.a,{id:"outlined-publisher",label:"Publisher",margin:"normal",variant:"outlined",name:"publisher",defaultValue:this.editValue("publisher"),onChange:this.handleChange("publisher")}),i.a.createElement(N.a,{id:"outlined-release-date",label:"Release Date",margin:"normal",variant:"outlined",name:"releaseDate",defaultValue:this.editValue("releaseDate"),onChange:this.handleChange("releaseDate")}),i.a.createElement(N.a,{id:"outlined-cover-price",label:"Cover Price",margin:"normal",variant:"outlined",name:"coverPrice",defaultValue:this.editValue("coverPrice"),onChange:this.handleChange("coverPrice")}),i.a.createElement(N.a,{id:"outlined-review",label:"Review",margin:"normal",variant:"outlined",multiline:!0,rows:"12",name:"review",defaultValue:this.editValue("body"),onChange:this.handleChange("body")}),i.a.createElement(N.a,{id:"outlined-score",label:"Score",margin:"normal",variant:"outlined",name:"score",defaultValue:this.editValue("score"),onChange:this.handleChange("score")}),i.a.createElement(N.a,{id:"outlined-image",label:"Image",margin:"normal",variant:"outlined",name:"image",defaultValue:this.editValue("image"),onChange:this.handleChange("image")}),"add"==this.state.editOrAdd&&i.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit"},"Add"),"edit"==this.state.editOrAdd&&i.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit"},"Edit"),"edit"==this.state.editOrAdd&&i.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:this.handleDelete},"Delete")))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).getSession=function(){h.a.get("/auth/session").then(function(e){a.setState({authUser:e.data}),console.log(e.data),a.getCurrentUser()}).catch(function(e){console.log(e)})},a.getCurrentUser=function(){h.a.post("/auth/currentUser",{authUser:a.state.authUser}).then(function(e){console.log(e.data),a.setState({currentUser:e.data,admin:e.data.admin})})},a.test=function(){h.a.get("/testing").then(function(e){console.log(e.data)})},a.state={authUser:null,test:"world",admin:!1,currentUser:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("app did mount"),this.getSession()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement("div",{className:"app-container"},i.a.createElement(f,{authUser:this.state.authUser,admin:this.state.admin}),i.a.createElement("div",{className:"main"},i.a.createElement(w.a,{path:"/",exact:!0,render:function(t){return i.a.createElement(E,Object.assign({},t,{admin:e.state.admin}))}}),i.a.createElement(w.a,{path:"/login",render:function(e){return i.a.createElement(O,e)}}),i.a.createElement(w.a,{path:"/register",component:y}),i.a.createElement(w.a,{path:"/review/:reviewNumber",exact:!0,component:j}),i.a.createElement(w.a,{path:"/addReview",component:k}),i.a.createElement(w.a,{path:"/review/:reviewNumber/edit",exact:!0,component:k}))),i.a.createElement("button",{onClick:this.test},"Test"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,1,2]]]);
//# sourceMappingURL=main.24293779.chunk.js.map